---
title: 'Public Properties'
description: 'Member variables and metadata fields'
---

## Data and Layout Properties

### data
```cpp
float *data
```
Raw data pointer in row-major layout. Points to `size` floats. For owning arrays, this memory is allocated by the constructor and freed by the destructor. For views (slices), this points into the parent array's memory.

---

### shape
```cpp
std::vector<int> shape
```
Dimensions of the array. For example, `{2, 3}` represents a 2×3 matrix. The product of all dimensions equals `size`.

**Example:**
```cpp
NDArray X({2, 3, 4});
std::cout << X.shape[0];  // 2
std::cout << X.shape[1];  // 3
std::cout << X.shape[2];  // 4
```

---

### strides
```cpp
std::vector<int> strides
```
Row-major strides per axis, measured in elements (not bytes). `strides[i]` is the step size for advancing one position along axis `i`.

For a contiguous 2×3 array, strides would be `{3, 1}` - advancing one row skips 3 elements, advancing one column skips 1 element.

**Example:**
```cpp
NDArray X({2, 3});
// strides = {3, 1}
std::cout << X.strides[0];  // 3 (row stride)
std::cout << X.strides[1];  // 1 (column stride)
```

---

### ndim
```cpp
int ndim
```
Number of dimensions (axes). Equal to `shape.size()`.

**Example:**
```cpp
NDArray X({2, 3, 4});
std::cout << X.ndim;  // 3
```

---

### size
```cpp
int size
```
Total number of elements. Equal to the product of all `shape` dimensions.

**Example:**
```cpp
NDArray X({2, 3, 4});
std::cout << X.size;  // 24
```

---

### ownsData
```cpp
bool ownsData
```
Whether this NDArray owns and manages the memory referenced by `data`. Base arrays have `ownsData = true` and will free memory on destruction. Views (from slicing) have `ownsData = false` and share memory with their parent.

**Example:**
```cpp
NDArray X({2, 3});
std::cout << X.ownsData;  // true

NDArray view = X.slice({{0, 1}, {0, 3}});
std::cout << view.ownsData;  // false
```

---

## Autograd Properties

### grad
```cpp
float *grad
```
Gradient buffer aligned with logical indexing. Allocated when the array is constructed and parallel to `data`. Accumulates gradients during backpropagation.

**Example:**
```cpp
NDArray X({2, 3});
X.fillSequential();

NDArray Y = X + 10;
Y.backward();

// Access gradients
X.print(NDArray::PrintType::Grad);
```

---

### op
```cpp
std::string op
```
Operation tag for debug/inspection. Common values include `"+"`, `"-"`, `"*"`, `"/"`, `"elem_mul"`, `"sum"`, etc.

**Example:**
```cpp
NDArray X({2, 3});
NDArray Y({2, 3});
NDArray Z = X + Y;
std::cout << Z.op;  // "+"
```

---

### label
```cpp
std::string label
```
Optional human-readable label for debugging and visualization.

**Example:**
```cpp
NDArray X({2, 3}, "input_features");
std::cout << X.label;  // "input_features"
```

---

### prev
```cpp
std::vector<std::reference_wrapper<NDArray>> prev
```
Parents in the autograd graph. Empty for detached tensors (slices and clones). For operation results, contains references to the input arrays.

**Example:**
```cpp
NDArray X({2, 3});
NDArray Y({2, 3});
NDArray Z = X + Y;

// Z.prev contains references to X and Y
std::cout << Z.prev.size();  // 2
```

---

### _backward
```cpp
std::function<void()> _backward
```
Backpropagation closure invoked during `backward()`. Each operation sets this function to accumulate gradients into parent arrays according to the chain rule.

---

## PrintType Enum

```cpp
enum class PrintType { Data, Grad }
```
Selector for printing either data values or gradient values. Used by `print()` and `get()` methods.

**Example:**
```cpp
X.print(NDArray::PrintType::Data);  // Print data
X.print(NDArray::PrintType::Grad);  // Print gradients
```
